{# empty Twig template #}
{% extends "base.html.twig" %}

{% block title %}{% endblock %}

{% block header %}
    {% include "guardian/header.html.twig" %}
{% endblock %}

{% block stylesheets %}
    <style>
        .caja-opcion:first-child{
            margin-top: 0%;
        }
        .caja-opcion{
            border-left: 5px #337ab7 solid;
            /*border-right: 5px #337ab7 solid;*/
            padding-left: 15px;
            padding-right: 15px;
            margin-top: 1%;
        }
        .label-primary{
            border-bottom-width: 0px;
        }
        label{
            font-size: 50px;
            border-bottom: 2px #000000 solid;
        }
        small{
            font-size: 40px;
        }
        .alert{
            font-size: 35px;
        }
        @media (max-width: 760px){

        }
        @media (min-width: 760px){

        }
        @media (min-width: 992px){

        }
        @media (min-width: 1200px){
            label{
                font-size: 20px;
            }
            small{
                font-size: 15px;
            }
            .alert{
                font-size: 13px;
            }
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="btn-pref btn-group btn-group-justified btn-group-lg" role="group" aria-label="...">
                <div class="btn-group" role="group">
                    <button type="button" id="tienda" class="btn btn-primary btn13" href="#tab1" data-toggle="tab">
                        <span class="fa fa-cog" aria-hidden="true"></span>
                        <div class="hidden-xs">AJUSTES</div>
                    </button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" id="exit" class="btn btn-default btn4" onclick="window.history.back();" >
                        <span class="fa fa-arrow-left" aria-hidden="true"></span>
                        <div class="hidden-xs">ATRÁS</div>
                    </button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="tab-content">
                    <div class="tab-pane fade in active" id="tab1">
                        <div class="row bordes border-radius" style="margin-top:1%;">
                            <div id="alertas"></div>
                            <legend>Jornada Laboral</legend>
                            <div class="caja-opcion">
                                <label for="n_tweets" style="margin-top:1%;">Número de tweets diarios: </label><br>
                                <small>Establece el número de tweets mínimo que un ciudadano debe publicar diariamente en su jornada laboral</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="n_tweets" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">tweets</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="pago_jornada">Pago por jornada laboral</label><br>
                                <small>Este pago se realiza cada noche a las 00:00 para cada ciudadano que haya alcanzado el número
                                    mínimo de tweets publicados al día (establecido en el apartado anterior)</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_jornada" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_jornada" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_jornada" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_jornada" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setJornadaLaboral();">GUARDAR CAMBIOS</button>
                            <div id="alert-jornada"></div>
                            <legend style="margin-top: 1%;">Paga Extra</legend>
                            <div class="caja-opcion">
                                <label for="n_solicitantes_paga" style="margin-top:1%;">Número máximo de solicitantes: </label><br>
                                <small>Establece el número máximo de ciudadanos que pueden solicitar el mismo ejercicio en el apartado <strong>Paga Extra</strong></small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="n_solicitantes_paga" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">solicitantes</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setPagaExtra();">GUARDAR CAMBIOS</button>
                            <div id="alert-paga"></div>
                            <legend style="margin-top: 1%;">Alimentación</legend>
                            <div class="caja-opcion">
                                <label for="n_dias_entrega" style="margin-top:1%;">Días entre entregas: </label><br>
                                <small>Establece el número de días que deben pasar por cada entrega</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="n_dias_entrega" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">días</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="pago_jornada">Tiempo entre comidas</label><br>
                                <small>Establece el tiempo que tarda un ciudadano en morir de hambre una vez se ha alimentado</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_comida" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_comida" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_comida" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_comida" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="pago_jornada">Tiempo entre hidratación</label><br>
                                <small>Establece el tiempo que tarda un ciudadano en morir de sed una vez se ha hidratado</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_bebida" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_bebida" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_bebida" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_bebida" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setAlimentacion();">GUARDAR CAMBIOS</button>
                            <div id="alert-alimentacion"></div>
                            <legend style="margin-top: 1%;">Apuestas</legend>
                            <div class="caja-opcion">
                                <label for="disparador_apuesta" style="margin-top:1%;">Disparador de apuestas: </label><br>
                                <small>Es el factor multiplicativo que aumenta el beneficio del ganador. Así, si el disparador es 2 y el beneficio por cada ganador es de 1 día, el beneficio final para cada uno de ellos será 1 * 2 = 2 días.</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="disparador_apuesta" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">solicitantes</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setApuestas();">GUARDAR CAMBIOS</button>
                            <div id="alert-apuestas"></div>
                            <legend style="margin-top: 1%;">Inspección de trabajo</legend>
                            <div class="caja-opcion">
                                <label for="test_correcto">Bonificacion por test correcto</label><br>
                                <small>Establece el tiempo que obtiene un ciudadano al realizar correctamente un test</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_test_correcto" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_test_correcto" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_test_correcto" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_test_correcto" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Penalización por test incorrecto</label><br>
                                <small>Establece el tiempo de penalización de un ciudadano al realizar incorrectamente un test</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_pi" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_pi" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_pi" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_pi" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setInspeccion()">GUARDAR CAMBIOS</button>
                            <div id="alert-inspeccion"></div>
                            <legend style="margin-top: 1%;">Mina</legend>
                            <div class="caja-opcion">
                                <label for="test_correcto">Bonificacion por desactivación</label><br>
                                <small>Este tiempo se divide entre el número de acertantes</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_mina" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_mina" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_mina" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_mina" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Bonificacion base por desactivación</label><br>
                                <small>Establece el tiempo que obtiene el resto de ciudadanos que no han desactivado la mina</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_base_mina" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_base_mina" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_base_mina" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_base_mina" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Coste de las pistas</label><br>
                                <small>Establece el tiempo que cuesta comprar una mina</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_mina_pista" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_mina_pista" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_mina_pista" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_mina_pista" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setMina();">GUARDAR CAMBIOS</button>
                            <div id="alert-mina"></div>
                            <legend style="margin-top: 1%;">Préstamos</legend>
                            <div class="caja-opcion">
                                <label for="n_dias_entrega" style="margin-top:1%;">Interés: </label><br>
                                <small>Interés aplicado a los préstamos</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="interes" class="form-control input-number" value="0.00" min="0.01" max="100" step="0.01" />
                                                <span class="input-group-addon">*</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Tiempo máximo prestado</label><br>
                                <small>Establece el tiempo tope que puede solicitar como préstamo un ciudadano</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_max_prestado" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_max_prestado" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_max_prestado" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_max_prestado" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setPrestamos();">GUARDAR CAMBIOS</button>
                            <div id="alert-prestamos"></div>
                            <legend style="margin-top: 1%;">Felicidad</legend>
                            <div class="caja-opcion">
                                <label for="dias_felicidad" style="margin-top:1%;">Días entre entregas: </label><br>
                                <small>Establece el número de días que debe pasar entre el envío de la propuesta y el de las evidencias.</small>

                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-lg-6">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_felicidad" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">días</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Tiempo bonificación 5%</label><br>
                                <small>Establece la bonificación al obtener un 5% de un ejercicio de Felicidad</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_fel_5" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_fel_5" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_fel_5" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_fel_5" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Tiempo bonificación 15%</label><br>
                                <small>Establece la bonificación al obtener un 15% de un ejercicio de Felicidad</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_fel_15" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_fel_15" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_fel_15" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_fel_15" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="caja-opcion">
                                <label for="test_correcto">Tiempo bonificación 25%</label><br>
                                <small>Establece la bonificación al obtener un 25% de un ejercicio de Felicidad</small>
                                <div class="row" style="margin-left: 0px; margin-right: 0px;">
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="dias_fel_25" class="form-control input-number" value="0" min="0" max="100" />
                                                <span class="input-group-addon">d</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="horas_fel_25" class="form-control input-number" value="0" min="0" max="24" />
                                                <span class="input-group-addon">h</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="minutos_fel_25" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">m</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-3">
                                        <div class="row">
                                            <div class="input-group">
                                                <input type="number" id="segundos_fel_25" class="form-control input-number" value="0" min="0" max="60" />
                                                <span class="input-group-addon">s</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn-block btn-primary" style="margin-top: 1%;" onclick="setFelicidad();">GUARDAR CAMBIOS</button>
                            <div id="alert-felicidad"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


{% block javascripts %}
    <script>
        function setSuccess(message) {
            contenido = '<div class="alert alert-success alert-dismissable">';
            contenido += '   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>';
            contenido += '   ' + message;
            contenido += '</div>';
            return contenido;
        }
        function setAlert(message) {
            contenido = '<div class="alert alert-danger alert-dismissable">';
            contenido += '   <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>';
            contenido += '   ' + message;
            contenido += '</div>';
            return contenido;
        }
        function getNumeroTweetsDiarios() {
            ruta = '/guardian/ajustes/getNumTweetsDiarios';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#n_tweets').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-jornada').html(alerta);
                }
            });
        }
        function getNumeroSolicitantesPaga() {
            ruta = '/guardian/ajustes/getNumeroSolicitantesPaga';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#n_solicitantes_paga').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-paga').html(alerta);
                }
            });
        }
        function getNumeroDiasEntrega() {
            ruta = '/guardian/ajustes/getNumeroDiasEntrega';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#n_dias_entrega').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-alimentacion').html(alerta);
                }
            });
        }
        function getDisparadorApuesta() {
            ruta = '/guardian/ajustes/getDisparadorApuesta';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#disparador_apuesta').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-apuestas').html(alerta);
                }
            });
        }
        function getPagoJornadaLaboral() {
            ruta = '/guardian/ajustes/getPagoJornadaLaboral';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_jornada').val(data.message.dias);
                    $('#horas_jornada').val(data.message.horas);
                    $('#minutos_jornada').val(data.message.minutos);
                    $('#segundos_jornada').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-jornada').html(alerta);
                }
            });
        }
        function getTiempoComida() {
            ruta = '/guardian/ajustes/getTiempoComida';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_comida').val(data.message.dias);
                    $('#horas_comida').val(data.message.horas);
                    $('#minutos_comida').val(data.message.minutos);
                    $('#segundos_comida').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-alimentacion').html(alerta);
                }
            });
        }
        function getTiempoBebida() {
            ruta = '/guardian/ajustes/getTiempoBebida';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_bebida').val(data.message.dias);
                    $('#horas_bebida').val(data.message.horas);
                    $('#minutos_bebida').val(data.message.minutos);
                    $('#segundos_bebida').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-alimentacion').html(alerta);
                }
            });
        }
        function getTestCorrecto() {
            ruta = '/guardian/ajustes/getTestCorrecto';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_test_correcto').val(data.message.dias);
                    $('#horas_test_correcto').val(data.message.horas);
                    $('#minutos_test_correcto').val(data.message.minutos);
                    $('#segundos_test_correcto').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-inspeccion').html(alerta);
                }
            });
        }
        function getTestIncorrecto() {
            ruta = '/guardian/ajustes/getTestIncorrecto';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_pi').val(data.message.dias);
                    $('#horas_pi').val(data.message.horas);
                    $('#minutos_pi').val(data.message.minutos);
                    $('#segundos_pi').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-inspeccion').html(alerta);
                }
            });
        }
        function getPremioMina() {
            ruta = '/guardian/ajustes/getPremioMina';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_mina').val(data.message.dias);
                    $('#horas_mina').val(data.message.horas);
                    $('#minutos_mina').val(data.message.minutos);
                    $('#segundos_mina').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-mina').html(alerta);
                }
            });
        }
        function getPremioBaseMina() {
            ruta = '/guardian/ajustes/getPremioBaseMina';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_base_mina').val(data.message.dias);
                    $('#horas_base_mina').val(data.message.horas);
                    $('#minutos_base_mina').val(data.message.minutos);
                    $('#segundos_base_mina').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-mina').html(alerta);
                }
            });
        }
        function getCosteMinaPista() {
            ruta = '/guardian/ajustes/getCosteMinaPista';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_mina_pista').val(data.message.dias);
                    $('#horas_mina_pista').val(data.message.horas);
                    $('#minutos_mina_pista').val(data.message.minutos);
                    $('#segundos_mina_pista').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-mina').html(alerta);
                }
            });
        }
        function getInteresPrestamo() {
            ruta = '/guardian/ajustes/getInteresPrestamo';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#interes').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-prestamos').html(alerta);
                }
            });
        }
        function getTiempoMaximoPrestado() {
            ruta = '/guardian/ajustes/getTiempoMaximoPrestado';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_max_prestado').val(data.message.dias);
                    $('#horas_max_prestado').val(data.message.horas);
                    $('#minutos_max_prestado').val(data.message.minutos);
                    $('#segundos_max_prestado').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-prestamos').html(alerta);
                }
            });
        }
        function getFelicidad() {
            ruta = '/guardian/ajustes/getFelicidad';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_felicidad').val(data.message);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-felicidad').html(alerta);
                }
            });
        }
        function getFelicidadBonificacion5(){
            ruta = '/guardian/ajustes/getFelicidadBonificacion5';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_fel_5').val(data.message.dias);
                    $('#horas_fel_5').val(data.message.horas);
                    $('#minutos_fel_5').val(data.message.minutos);
                    $('#segundos_fel_5').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-felicidad').html(alerta);
                }
            });
        }
        function getFelicidadBonificacion15(){
            ruta = '/guardian/ajustes/getFelicidadBonificacion15';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_fel_15').val(data.message.dias);
                    $('#horas_fel_15').val(data.message.horas);
                    $('#minutos_fel_15').val(data.message.minutos);
                    $('#segundos_fel_15').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-felicidad').html(alerta);
                }
            });
        }
        function getFelicidadBonificacion25(){
            ruta = '/guardian/ajustes/getFelicidadBonificacion25';
            $.get(ruta, function (datos, status) {
                data = jQuery.parseJSON(datos);
                if (data.estado === 'OK') {
                    $('#dias_fel_25').val(data.message.dias);
                    $('#horas_fel_25').val(data.message.horas);
                    $('#minutos_fel_25').val(data.message.minutos);
                    $('#segundos_fel_25').val(data.message.segundos);
                } else {
                    alerta = setAlert(data.message);
                    $('#alert-felicidad').html(alerta);
                }
            });
        }
        function setJornadaLaboral() {
            var n_tweets = parseInt($('#n_tweets').val());
            var dias_jornada = parseInt($('#dias_jornada').val());
            var horas_jornada = parseInt($('#horas_jornada').val());
            var minutos_jornada = parseInt($('#minutos_jornada').val());
            var segundos_jornada = parseInt($('#segundos_jornada').val());
            var pago_jornada = (((((dias_jornada * 24) + horas_jornada) * 60) + minutos_jornada) * 60) + segundos_jornada;
            
            if (n_tweets <= 0) {
                $('#alert-jornada').html(setAlert('El número de tweets diario debe ser mayor que 0'));
            } else if (pago_jornada <= 0) {
                $('#alert-jornada').html(setAlert('Los ciudadanos necesitan un salario diario'));
            } else {
                ruta = '/guardian/ajustes/setJornadaLaboral';
                datos = {
                    'n_tweets': n_tweets,
                    'pago_jornada': pago_jornada
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-jornada').html(setSuccess(data.message));
                    } else {
                        $('#alert-jornada').html(setAlert(data.message));
                    }
                });
            }
        }
        function setPagaExtra() {
            var n_num_max_solicitantes_paga = parseInt($('#n_solicitantes_paga').val());
            if (n_num_max_solicitantes_paga <= 0) {
                $('#alert-paga').html(setAlert('El número de solicitantes debe ser mayor que 0'));
            } else {
                ruta = '/guardian/ajustes/setPagaExtra';
                datos = {
                    'num_max_solicitantes_paga': n_num_max_solicitantes_paga
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-paga').html(setSuccess(data.message));
                    } else {
                        $('#alert-paga').html(setAlert(data.message));
                    }
                });
            }
        }
        function setAlimentacion() {
            var n_dias_entrega = parseInt($('#n_dias_entrega').val());
            var dias_comida = parseInt($('#dias_comida').val());
            var horas_comida = parseInt($('#horas_comida').val());
            var minutos_comida = parseInt($('#minutos_comida').val());
            var segundos_comida = parseInt($('#segundos_comida').val());
            var tsc = (((((dias_comida * 24) + horas_comida) * 60) + minutos_comida) * 60) + segundos_comida;
            var dias_bebida = parseInt($('#dias_bebida').val());
            var horas_bebida = parseInt($('#horas_bebida').val());
            var minutos_bebida = parseInt($('#minutos_bebida').val());
            var segundos_bebida = parseInt($('#segundos_bebida').val());
            var tsb = (((((dias_bebida * 24) + horas_bebida) * 60) + minutos_bebida) * 60) + segundos_bebida;
            
            if (n_dias_entrega <= 0) {
                $('#alert-alimentacion').html(setAlert('El número de dias entre entregas debe ser mayor que 0'));
            } else if (tsc <= 0) {
                $('#alert-alimentacion').html(setAlert('Asigne un valor al tiempo entre comidas'));
            } else if (tsb <= 0) {
                $('#alert-alimentacion').html(setAlert('Asigne un valor al tiempo entre hidratación'));
            } else {
                ruta = '/guardian/ajustes/setAlimentacion';
                datos = {
                    'n_dias_entrega': n_dias_entrega,
                    'tsc': tsc,
                    'tsb': tsb
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-alimentacion').html(setSuccess(data.message));
                    } else {
                        $('#alert-alimentacion').html(setAlert(data.message));
                    }
                });
            }
        }
        function setApuestas() {
            var disparador_apuesta = parseInt($('#disparador_apuesta').val());
            if (disparador_apuesta <= 0) {
                $('#alert-apuestas').html(setAlert('El valor del disparador debe ser mayor que 0'));
            } else {
                ruta = '/guardian/ajustes/setApuestas';
                datos = {
                    'disparador_apuesta': disparador_apuesta
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-apuestas').html(setSuccess(data.message));
                    } else {
                        $('#alert-apuestas').html(setAlert(data.message));
                    }
                });
            }
        }
        function setInspeccion() {
            var dias_test_correcto = parseInt($('#dias_test_correcto').val());
            var horas_test_correcto = parseInt($('#horas_test_correcto').val());
            var minutos_test_correcto = parseInt($('#minutos_test_correcto').val());
            var segundos_test_correcto = parseInt($('#segundos_test_correcto').val());
            var pago_inspeccion = (((((dias_test_correcto * 24) + horas_test_correcto) * 60) + minutos_test_correcto) * 60) + segundos_test_correcto;
            
            var dias_pi = parseInt($('#dias_pi').val());
            var horas_pi = parseInt($('#horas_pi').val());
            var minutos_pi = parseInt($('#minutos_pi').val());
            var segundos_pi = parseInt($('#segundos_pi').val());
            var pi = (((((dias_pi * 24) + horas_pi) * 60) + minutos_pi) * 60) + segundos_pi;
            
            if (pago_inspeccion <= 0 || pi <= 0) {
                $('#alert-inspeccion').html(setAlert('Tener una bonificación por inspección bien realizada ayudará a la economía del ciudadano'));
            } else {
                ruta = '/guardian/ajustes/setInspeccion';
                datos = {
                    'pago_inspeccion': pago_inspeccion,
                    'test_incorrecto': pi
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-inspeccion').html(setSuccess(data.message));
                    } else {
                        $('#alert-inspeccion').html(setAlert(data.message));
                    }
                });
            }
        }
        function setMina() {
            var dias_mina = parseInt($('#dias_mina').val());
            var horas_mina = parseInt($('#horas_mina').val());
            var minutos_mina = parseInt($('#minutos_mina').val());
            var segundos_mina = parseInt($('#segundos_mina').val());
            var pago_mina = (((((dias_mina * 24) + horas_mina) * 60) + minutos_mina) * 60) + segundos_mina;
            var dias_base_mina = parseInt($('#dias_base_mina').val());
            var horas_base_mina = parseInt($('#horas_base_mina').val());
            var minutos_base_mina = parseInt($('#minutos_base_mina').val());
            var segundos_base_mina = parseInt($('#segundos_base_mina').val());
            var pago_base_mina = (((((dias_base_mina * 24) + horas_base_mina) * 60) + minutos_base_mina) * 60) + segundos_base_mina;
            var dias_mina_pista = parseInt($('#dias_mina_pista').val());
            var horas_mina_pista = parseInt($('#horas_mina_pista').val());
            var minutos_mina_pista = parseInt($('#minutos_mina_pista').val());
            var segundos_mina_pista = parseInt($('#segundos_mina_pista').val());
            var coste_mina_pista = (((((dias_mina_pista * 24) + horas_mina_pista) * 60) + minutos_mina_pista) * 60) + segundos_mina_pista;
            
            if (pago_mina <= 0) {
                $('#alert-mina').html(setAlert('La bonificación por desactivación de mina no puede ser 0'));
            } else if (pago_base_mina <= 0) {
                $('#alert-mina').html(setAlert('La bonificación base por desactivación de mina no puede ser 0'));
            } else if (coste_mina_pista <= 0) {
                $('#alert-mina').html(setAlert('El coste por comprar una pista no puede ser 0'));
            } else {
                ruta = '/guardian/ajustes/setMina';
                datos = {
                    'pago_mina': pago_mina,
                    'pago_base_mina': pago_base_mina,
                    'coste_mina_pista': coste_mina_pista
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-mina').html(setSuccess(data.message));
                    } else {
                        $('#alert-mina').html(setAlert(data.message));
                    }
                });
            }
        }
        function setPrestamos() {
            var dias_max_prestado = parseInt($('#dias_max_prestado').val());
            var horas_max_prestado = parseInt($('#horas_max_prestado').val());
            var minutos_max_prestado = parseInt($('#minutos_max_prestado').val());
            var segundos_max_prestado = parseInt($('#segundos_max_prestado').val());
            var max_prestado = (((((dias_max_prestado * 24) + horas_max_prestado) * 60) + minutos_max_prestado) * 60) + segundos_max_prestado;
            var interes = parseFloat($('#interes').val());
            if (interes <= 0.00) {
                $('#alert-prestamos').html(setAlert('El interés aplicado a un préstamo no puede ser 0'));
            } else if (max_prestado <= 0) {
                $('#alert-prestamos').html(setAlert('Debe haber un tiempo máximo a prestar'));
            } else {
                ruta = '/guardian/ajustes/setPrestamos';
                datos = {
                    'interes': interes,
                    'max_prestado': max_prestado
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-prestamos').html(setSuccess(data.message));
                    } else {
                        $('#alert-prestamos').html(setAlert(data.message));
                    }
                });
            }
        }
        function setFelicidad() {
            var dias_felicidad = parseInt($('#dias_felicidad').val());
            var dias_5 = parseInt($('#dias_fel_5').val());
            var horas_5 = parseInt($('#horas_fel_5').val());
            var minutos_5 = parseInt($('#minutos_fel_5').val());
            var segundos_5 = parseInt($('#segundos_fel_5').val());
            var b5 = (((((dias_5 * 24) + horas_5) * 60) + minutos_5) * 60) + segundos_5;
            var dias_15 = parseInt($('#dias_fel_15').val());
            var horas_15 = parseInt($('#horas_fel_15').val());
            var minutos_15 = parseInt($('#minutos_fel_15').val());
            var segundos_15 = parseInt($('#segundos_fel_15').val());
            var b15 = (((((dias_15 * 24) + horas_15) * 60) + minutos_15) * 60) + segundos_15;
            var dias_25 = parseInt($('#dias_fel_25').val());
            var horas_25 = parseInt($('#horas_fel_25').val());
            var minutos_25 = parseInt($('#minutos_fel_25').val());
            var segundos_25 = parseInt($('#segundos_fel_25').val());
            var b25 = (((((dias_25 * 24) + horas_25) * 60) + minutos_25) * 60) + segundos_25;
            
            if(b5 <= 0 || b15 <= 0 || b25 <= 0){
                $('#alert-felicidad').html(setAlert('El valor de los campos debe ser mayor que 0'));
            } else if (dias_felicidad <= 0) {
                $('#alert-felicidad').html(setAlert('El valor de los campos debe ser mayor que 0'));
            } else {
                ruta = '/guardian/ajustes/setFelicidad';
                datos = {
                    'dias_felicidad': dias_felicidad,
                    'b5': b5,
                    'b15': b15,
                    'b25': b25
                };
                $.post(ruta, datos, function (data, status) {
                    data = jQuery.parseJSON(data);
                    if(data.estado === 'OK'){
                        $('#alert-felicidad').html(setSuccess(data.message));
                    } else {
                        $('#alert-felicidad').html(setAlert(data.message));
                    }
                });
            }
        }
        $(document).ready(function () {
            getNumeroTweetsDiarios();
            getPagoJornadaLaboral();
            getNumeroSolicitantesPaga();
            getNumeroDiasEntrega();
            getTiempoComida();
            getTiempoBebida();
            getDisparadorApuesta();
            getTestCorrecto();
            getTestIncorrecto();
            getPremioMina();
            getPremioBaseMina();
            getCosteMinaPista();
            getInteresPrestamo();
            getTiempoMaximoPrestado();
            getFelicidad();
            getFelicidadBonificacion5();
            getFelicidadBonificacion15();
            getFelicidadBonificacion25();
            $(".btn-pref .btn").click(function () {
                $(".btn-pref .btn").removeClass("btn-primary").addClass("btn-default");
                $(this).removeClass("btn-default").addClass("btn-primary");
            });
        });
    </script>
{% endblock %}
